
@{
    ViewBag.Title = "Mix-Line-Bar";
}


<script src="~/Scripts/jquery-1.10.2.min.js"></script>
<script src="~/Scripts/echarts.js" )></script>
<script type="text/javascript">
    $(document).ready(function () {
        initial();
    })

    function initial() {

        var myChart = echarts.init(document.getElementById('mainChart')); //EChart实例

        myChart.showLoading({
            text: '读取数据中...' //loading，是在读取数据的时候显示

        });

        myChart.setOption({ //绘制图案
            title: {
                text: "测试",
                subtext: '参考实例：https://echarts.apache.org/examples/zh/editor.html?c=mix-line-bar',
                x: 'center',
                y: 0,
                textStyle: {
                    fontFamily: 'sans-serif',
                    fontWeight: 'normal',
                    fontStyle: 'normal',
                    fontSize: 15
                },


            },
            animation: false,//关闭动画效果
            tooltip: {
                trigger: 'axis'
            },
            legend: {
                type: 'scroll',
                //orient: 'vertical',
                //right: 140,
                top: 50,
                bottom: 20,
                data: ['备注逾重(KG)', '备注占比(%)'],

                //selected: data.selected
            },
            grid: { //数据区到周边的距离
                top: '15%',
                left: "2%",
                right: '2%',
                bottom: '2%',
                containLabel: true
            },
            //图标转移到Y轴和标题交叉位置
            toolbox: {
                feature: {
                    saveAsImage: {
                        title: '保存为图'
                    }
                },
                left: '40',
                top: '-5'
            },

            //绘制X轴
            xAxis: {
                type: 'category',
                data: ['2012', '2013', '2014', '2015', '2016'],
                axisTick: {
                    alignWithLabel: true
                }
            },
            //绘制Y轴
            yAxis: [
                { //Y轴维度1
                    type: 'value',
                    name: '备注逾重(KG)',
                    //min: 0,//默认最小0KG
                    //max: 1000,//默认最大1000KG
                },
                { //Y轴维度2
                    type: 'value',
                    name: '备注占比(%)',
                    min: 0,
                    max: 100,
                    splitLine: {
                        show: false //隐藏标线
                    },
                    axisLabel: { //格式：加%
                        formatter: '{value}%'
                    },
                }
            ],
            series: [
                {
                    name: '备注逾重(KG)',
                    type: 'bar',  //显示为柱状图
                    barGap: 0,
                    barWidth: 30, //柱状图宽度
                    itemStyle: {  //柱状图颜色
                        color: '#4ECDC4' //'#B4CAE3'
                    },
                    label: { //柱状图上方显示数值
                        show: true,
                        position: 'top'
                    },
                    //数据
                    data: [320, 332, 301, 334, 390]
                },
                {
                    name: '备注占比(%)',
                    type: 'line',  //显示为折线图
                    yAxisIndex: 1, //与Y轴对应的维度看齐
                    itemStyle: {   //折线颜色
                        color: '#797979'
                    },
                    //数据
                    data: [65, 50, 71, 60, 80],

                }
            ]
        }, true);

        myChart.hideLoading();//隐藏读取数据提示信息
    }
</script>

<input type="hidden" id="vRckWgp" />
<div>

    <table style="text-align:center;" class="InternalArea" width="876">
        <tr>
            <td id="mainChart" align="left" width="1000" height="600" style="padding-left:0px;padding-top:10px"></td>
            <td id="mainPieChart" align="left" width="300" height="250" style="padding-left:0px"></td>
        </tr>
    </table>
</div>

